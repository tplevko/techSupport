<PicketLink xmlns="urn:picketlink:identity-federation:config:2.1">
	<PicketLinkSP xmlns="urn:picketlink:identity-federation:config:2.1"
		ServerEnvironment="tomcat" BindingType="REDIRECT" RelayState="someURL">

            <!-- KeyCloak IDP URL
            
    If the IDP URL changes, the change must be propagated here. On KeyCloak side, the correct
    configuration for this SP must be set.
        -->
        <IdentityURL>${idp.url::https://keycloak-plevko.rhcloud.com/auth/realms/saml-demo/protocol/saml}</IdentityURL>
        <ServiceURL>${techSupport.url::https://techsupport-tplevko.rhcloud.com}</ServiceURL>

        <Trust>
            <Domains>localhost,sts.windows.net,login.microsoftonline.com,rhcloud.com</Domains>
        </Trust>
    </PicketLinkSP>
    
   
    <!-- 
    Picketlink handlers configured for use of KeyCloak
    -->
     
    <Handlers xmlns="urn:picketlink:identity-federation:handler:config:2.1">
        <Handler
            class="org.picketlink.identity.federation.web.handlers.saml2.SAML2LogOutHandler" />
        <Handler
            class="org.picketlink.identity.federation.web.handlers.saml2.SAML2AuthenticationHandler">	
            <Option Key="ASSERTION_SESSION_ATTRIBUTE_NAME" Value="org.picketlink.sp.assertion"/>	
        </Handler>
        <Handler
            class="org.picketlink.identity.federation.web.handlers.saml2.RolesGenerationHandler" />
        <Handler class="org.picketlink.identity.federation.web.handlers.saml2.SAML2AttributeHandler" >
            <Option Key="ATTRIBUTE_CHOOSE_FRIENDLY_NAME" Value="true"/>
        </Handler>

    </Handlers>
</PicketLink>